/* Post/article pages - unified medieval theme */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400&display=swap');

* { text-decoration: none; margin: 0; padding: 0; box-sizing: border-box; }
* img { max-width: 100%; height: auto; }

html, body {
  color: var(--text-body);
  font-family: 'Crimson Text', Georgia, 'Times New Roman', serif;
  line-height: 1.8;
  background: var(--bg-body);
}

main { margin: 0 auto; max-width: 900px; padding: 2.2rem 1rem 3rem; }

.article { margin-bottom: 2rem; }
.article-header { margin-bottom: 2rem; }
.article-title { font-family: 'Cinzel', serif; font-size: 2.2rem; margin-bottom: 0.6rem; line-height: 135%; color: var(--parchment-ink); text-decoration: underline; text-decoration-color: var(--brass); }
.article .date { display: block; font-size: 0.9rem; color: var(--text-muted); }

.categories { display: flex; flex-wrap: wrap; gap: .4rem; }
.categories .category { display: inline-block; color: var(--parchment-ink); background: var(--bg-panel-alt); border: 1px solid var(--border); border-radius: 999px; font-size: 0.8rem; padding: 0 .7rem; line-height: 1.3rem; cursor: default; }

/* markdown content */
.content * { line-height: 1.85; }
.content p { margin: 0 0 1.25rem 0; padding: 0; }
.content h1 { font-size: 2rem; font-family: 'Cinzel', serif; }
.content h2 { font-size: 1.8rem; font-family: 'Cinzel', serif; }
.content h3 { font-size: 1.6rem; font-family: 'Cinzel', serif; }
.content h4 { font-size: 1.35rem; font-family: 'Cinzel', serif; }
.content h5 { margin: 5px 0; font-size: 1.15rem; font-family: 'Cinzel', serif; }
.content h6 { font-size: 1rem; color: var(--text-muted); font-family: 'Cinzel', serif; }
.content h1, .content h2, .content h3, .content h4, .content h6 { margin: 1.25rem 0; }

.content a { color: var(--leather-dark); text-decoration: underline; text-decoration-color: var(--brass); border: 0 !important; }
.content a:hover { color: var(--midnight); text-decoration-color: var(--gold); }

.content blockquote { padding: .75rem 1rem; margin-bottom: 1.25rem; font-style: italic; font-weight: 400; background: var(--bg-panel); border-left: 6px solid var(--brass); }
.content strong { font-weight: 700; border: 0 !important; }

.content ul { margin-left: 1.1rem; margin-bottom: 1.1rem; }
.content ol { margin-left: 1.3rem; margin-bottom: 1.1rem; }
.content ol * ol, .content ul * ul { margin-left: 1rem; margin-bottom: 0; }

.content table { width: 100%; max-width: 100%; margin: 1rem 0; border-collapse: collapse; background: var(--bg-panel); border: 1px solid var(--border); border-radius: 10px; overflow: hidden; }
.content table th { background: linear-gradient(180deg, var(--bg-panel-alt), var(--bg-panel)); color: var(--parchment-ink); border: 1px solid var(--border); font-family: 'Cinzel', serif; }
.content table * { border: 1px solid var(--border); padding: 0.45rem 0.4rem; }

.content img { max-width: 100%; margin: 1rem 0; cursor: zoom-in; }
.content img.emoji { margin: 0 !important; }

/* pre , code */
.content, .content div, .content div pre, .content div pre code { overflow-x: auto !important; }
.content pre { background: #201f1a !important; color: #efe8cf; border: 1px solid #3b392f; padding: 1rem 1.25rem; margin-bottom: 1.1rem; border-radius: 10px; }
.content code { padding: 3px 6px; color: #f3e7bd; white-space: pre; background-color: #2a281f; border-radius: 6px; }

/* Lightbox */
#lightbox { position: fixed; z-index: 1000; inset: 0; background-color: rgba(0, 0, 0, 0.8); display: none; }
#lightbox.active { display: flex; justify-content: center; align-items: center; }
#lightbox img { max-width: 90%; max-height: 80%; padding: 4px; background-color: black; border: 2px solid white; }

/* Tooltips */
.tooltip { display: none; position: absolute; left: 50%; transform: translate(-50%, -50%); background-color: #2b2620; color: #fff4cc; padding: 6px 8px; border-radius: 6px; font-size: 12px; white-space: nowrap; z-index: 1000; max-width: 60%; border: 1px solid #85744e; }
.tooltip-visible { display: block; flex-wrap: wrap; }
.content #spell-tooltip p { white-space: pre-wrap; max-width: fit-content; }
.overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.45); z-index: 500; }
#spell-tooltip table { max-width: fit-content; align-self: center; }

/* Layout utils */
.row { display: flex; justify-content: space-between; align-items: center; }
.text { flex-grow: 1; }
.close-button { background-color: #ff4c4c; color: white; border: none; padding: 5px 10px; cursor: pointer; border-radius: 6px; }

/* Responsive */
@media screen and (max-width: 900px) { body { padding: 1.2rem; } }
